---
title: Find Customer Referee
description: Find Customer Referee
---

import { Badge } from "@astrojs/starlight/components";

<Badge text="Easy" variant="note" />
<Badge text="Select" variant="note" />

Cari nama customer yang direfer oleh customer dengan `id != 2` atau tidak direfer sama sekali (`referee_id IS NULL`) menggunakan `WHERE` dengan operator `OR` dan `IS NULL`.

https://leetcode.com/problems/find-customer-referee

## Soal

> Table: `Customer`
>
> ```
> +-------------+---------+
> | Column Name | Type    |
> +-------------+---------+
> | id          | int     |
> | name        | varchar |
> | referee_id  | int     |
> +-------------+---------+
> ```
>
> In SQL, id is the primary key column for this table.
>
> Each row of this table indicates the id of a customer, their name, and the id of the customer who referred them.

Find the names of the customer that are either:

- referred by any customer with id != 2.
- not referred by any customer.

Return the result table in any order.
The result format is in the following example.

> **Example 1:**
>
> Input:
>
> `Customer` table:
>
> ```
> +----+------+------------+
> | id | name | referee_id |
> +----+------+------------+
> | 1  | Will | null       |
> | 2  | Jane | null       |
> | 3  | Alex | 2          |
> | 4  | Bill | null       |
> | 5  | Zack | 1          |
> | 6  | Mark | 2          |
> +----+------+------------+
> ```
>
> Output:
>
> ```
> +------+
> | name |
> +------+
> | Will |
> | Jane |
> | Bill |
> | Zack |
> +------+
> ```

## Setup Soal

Buat tabel dan insert data sesuai contoh:

```sql
CREATE TABLE Customer (
    id INT PRIMARY KEY,
    name VARCHAR(255),
    referee_id INT
);

INSERT INTO Customer (id, name, referee_id) VALUES
    (1, 'Will', NULL),
    (2, 'Jane', NULL),
    (3, 'Alex', 2),
    (4, 'Bill', NULL),
    (5, 'Zack', 1),
    (6, 'Mark', 2);
```

## Jawaban SQL

```sql
SELECT name
FROM Customer
WHERE referee_id != 2
    OR referee_id IS NULL;
```

## Penjelasan

Soal ini meminta kita mencari customer yang memenuhi salah satu dari dua kondisi:

1. Direfer oleh customer yang `id`-nya bukan 2 (`referee_id != 2`)
2. Tidak direfer sama sekali (`referee_id IS NULL`)

Berikut langkah-langkahnya:

1. `SELECT name`: Kita hanya perlu menampilkan kolom `name` saja, sesuai yang diminta di output.
2. `FROM Customer`: Kita mengambil data dari tabel `Customer`.
3. `WHERE referee_id != 2`: Filter customer yang direfer oleh customer dengan `id` bukan 2. Operator `!=` berarti "tidak sama dengan".
4. `OR referee_id IS NULL`: Tambahkan kondisi kedua dengan operator `OR` - customer yang tidak direfer sama sekali. `IS NULL` digunakan untuk mengecek apakah nilai kolom adalah `NULL`.

Operator `OR` memastikan bahwa jika salah satu kondisi terpenuhi, baris tersebut akan muncul di hasil.

> Penting: Kenapa perlu `IS NULL`? Di SQL, NULL akan selalu `FALSE` jika dibandingkan dengan operasi aritmatika seperti `=`, `!=`, `<`, `>`, dan lainnya.
>
> Contoh:\
> `NULL != 0` -> `FALSE` \
> `NULL = NULL` -> `FALSE` \
> `NULL < 0` -> `FALSE`

**Dari contoh data:**

- Customer 1 (Will): `referee_id`=`NULL` ✅ (memenuhi kondisi kedua)
- Customer 2 (Jane): `referee_id`=`NULL` ✅ (memenuhi kondisi kedua)
- Customer 3 (Alex): `referee_id`=`2` ❌ (direfer oleh id 2, tidak memenuhi)
- Customer 4 (Bill): `referee_id`=`NULL` ✅ (memenuhi kondisi kedua)
- Customer 5 (Zack): `referee_id`=`1` ✅ (direfer oleh id 1, bukan 2, memenuhi kondisi pertama)
- Customer 6 (Mark): `referee_id`=`2` ❌ (direfer oleh id 2, tidak memenuhi)

Jadi hasilnya adalah Will, Jane, Bill, dan Zack.

## Referensi

- `SELECT`: Digunakan untuk memilih kolom yang ingin ditampilkan dari tabel
- `FROM`: Menentukan tabel sumber data
- `WHERE`: Klausa untuk memfilter baris berdasarkan kondisi tertentu
- `OR`: Operator logika yang mengharuskan salah satu kondisi terpenuhi (salah satu harus TRUE)
- `!=`: Operator perbandingan yang berarti "tidak sama dengan" (bisa juga ditulis sebagai `<>`)
- `IS NULL`: Operator khusus untuk mengecek apakah nilai kolom adalah `NULL` (harus menggunakan `IS NULL`, bukan `= NULL`)
- `NULL`: Nilai khusus yang menunjukkan tidak ada data atau nilai tidak diketahui
